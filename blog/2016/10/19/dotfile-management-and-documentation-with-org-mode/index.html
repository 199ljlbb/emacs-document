<!DOCTYPE html>
<html lang="en">
<head>
  <title>Dotfile-Management-and-Documentation-with-Org-mode - EMACS-DOCUMENT</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta name="author" content="lujun9972" />
  <style>
   #ds-thread #ds-reset .ds-comment-body p {color: #ffffff;}
   #ds-thread #ds-reset .ds-comment-body p a {color: #ff0;}
   #ds-thread #ds-reset .ds-comment-body p a:hover {color: #0ff;}
   #disqus_thread a {color: #00ffff;}
  </style>
  <link rel="stylesheet" href="http://lujun9972.github.io/emacs-document/media/css/main.css" type="text/css"/>
  <link rel="stylesheet" href="http://lujun9972.github.io/emacs-document/media/css/comment.css" type="text/css"/>
</head>

  <body><div class="container">
<div>
  <header class="masthead">
    <h1 class="masthead-title"><a href="http://lujun9972.github.io/emacs-document/">EMACS-DOCUMENT</a></h1>
    <p>=============&gt;集思广益</p>
    <nav class="site-nav">
      <div class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z" fill="#ffff00"/>
          <path d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z" fill="#ffff00"/>
          <path d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z" fill="#ffff00"/>
        </svg>
      </div>
      <ul class="trigger">
        <li><a href="http://lujun9972.github.io/emacs-document/years/">Years</a></li>
        <li><a href="http://lujun9972.github.io/emacs-document/authors/">Authors</a></li>
        <li><a href="http://lujun9972.github.io/emacs-document/tags/">Tags</a></li>
        <li><a href="http://lujun9972.github.io/emacs-document/about/">About</a></li>
        <li><a href="https://github.com/lujun9972/emacs-document">Github</a></li>
        <li><a href="http://lujun9972.github.io/emacs-document/rss.xml">RSS</a></li>
      </ul>
    </nav>
    <form method="get" id="searchform" action="http://www.google.com/search">
      <input type="text" class="field" name="q" id="s" placeholder="Search">
      <input type="hidden" name="as_sitesearch" value="lujun9972.github.io/emacs-document">
    </form>
  </header>
</div>

<div>
<div class="post">
<h1 class="title">Dotfile-Management-and-Documentation-with-Org-mode</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline6">1. 1 Here's how</a>
<ul>
<li><a href="#orgheadline1">1.1. 1.1 Requirements</a></li>
<li><a href="#orgheadline2">1.2. 1.2 "Normal" dotfiles</a></li>
<li><a href="#orgheadline3">1.3. 1.3 Dotfiles in a dotdir</a></li>
<li><a href="#orgheadline4">1.4. 1.4 Emacs dotfiles</a></li>
<li><a href="#orgheadline5">1.5. 1.5 Credentials and secrets</a></li>
</ul>
</li>
<li><a href="#orgheadline7">2. 2 Documenting changes</a></li>
<li><a href="#orgheadline8">3. 3 Managing remote dotfiles and configs</a></li>
<li><a href="#orgheadline9">4. 4 Caveats</a></li>
<li><a href="#orgheadline10">5. 5 Acknowledgements</a></li>
</ul>
</div>
</div>
<p>
One day 'polm23' asked on Hacker News, <a href="https://news.ycombinator.com/item?id=11070797">what do the readers use to manage</a>
<a href="https://news.ycombinator.com/item?id=11070797">dotfiles</a>. I was just experimenting with my method and contributed my <a href="https://news.ycombinator.com/item?id=11070970">two cents</a>
. Turns out, rare for me, I stumbled upon an original way to edit, document
and deploy dotfiles. Although we Emacs users have been using Org-Mode to wrap
our .emacs and document our settings for years, few people that I know have
used it for managing more dotfiles.
</p>

<p>
There are at least 3 advantages of using Org-Mode to manage dotfiles, that I
can think of right now.
</p>

<ul class="org-ul">
<li>Every line of configuration can be documented. You can record why and when
you add this line. You can also document other possible options for this
particular setting right above or below the code block, so you don't
always need to look up man pages or other documentation.</li>
<li>You need fewer error-prone symlinks. We have all been bitten by broken
links when we were young and type 'ln -s dotfiles/vimrc ~/.vimrc', right?
Even if we have learnt the lesson, and always use the full path, what if
you want to migrate the dotfiles from BSD to Linux, where ~ mean different
paths? I know, you set branches in your deployment script. Not a
requirement with Org-Mode.</li>
<li>You can manage remote dotfiles. Org-Mode can 'tangle' code blocks to a
remote location, thus you can manage your server's nginx.conf as easily as
your .bashrc.</li>
</ul>

<div id="outline-container-orgheadline6" class="outline-2">
<h2 id="orgheadline6"><span class="section-number-2">1</span> 1 Here's how</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-orgheadline1" class="outline-3">
<h3 id="orgheadline1"><span class="section-number-3">1.1</span> 1.1 Requirements</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Emacs 24.x up, Org-Mode 8.x or newer, and Your favourite keyboard.
</p>

<p>
Open a new file in Emacs, call it dotfiles.org or whatever you like.
</p>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2"><span class="section-number-3">1.2</span> 1.2 "Normal" dotfiles</h3>
<div class="outline-text-3" id="text-1-2">
<p>
These files directly reside under your home directory. So managing them in
Emacs is very straightforward. For ease of organization, you can put files of
the same category, e.g. all things related to email, under a heading:
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* Email</span>
<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* Muttrc</span>
<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* Aliases</span>
<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* goobookrc</span>
</pre>
</div>

<p>
Then, under each subheading, put your files in an src block, like this:
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* Email</span>
<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* Muttrc</span>
<span style="color: #827591; background-color: #373040;"> #+BEGIN_SRC conf :tangle ~/.muttrc</span>
 <span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">source "/etc/Muttrc"   # Not available on OS X</span>
 <span style="color: #7590db;">source</span> <span style="color: #2d9574;">"gpg --batch --passphrase-file ~/.sec/.passphrase --textmode -d ~/.sec/mutt.gpg |"</span>
 <span style="color: #7590db;">set</span> realname=<span style="color: #2d9574;">"Haoyang Xu"</span>

 <span style="color: #7590db;">set</span> sig_dashes

 <span style="color: #7590db;">...</span>

<span style="color: #827591; background-color: #373040;"> #+END_SRC</span>
</pre>
</div>

<p>
Then if you run M-x org-babel-tangle, or press C-c C-v t, the content of the
above src block will be written to $HOME/.muttrc, overwriting the file's
content if it exists already.
</p>

<p>
Similarly, write each file's content in an src block under the corresponding
subheading:
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* Email</span>
<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* Muttrc ...</span>
<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* Aliases</span>
<span style="color: #827591; background-color: #373040;">  #+BEGIN_SRC conf :tangle ~/.aliases</span>
  <span style="color: #7590db;">alias</span> mumon      foobar@example.com
<span style="color: #827591; background-color: #373040;">  #+END_SRC</span>
<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* goobookrc</span>
<span style="color: #827591; background-color: #373040;">  #+BEGIN_SRC conf :tangle ~/.goobookrc</span>
  [<span style="color: #ce537a; font-weight: bold;">DEFAULT</span>]
     # The following are optional, defaults are shown

   # This file is written by the oauth library, and should be kept secure,
   # it's like a password to your google contacts.
   ;oauth_db_filename: ~/.goobook_auth.json

   # The client secret file is not really secret.
   ;client_secret_filename: ~/.goobook_client_secret.json

   ;cache_filename: ~/.goobook_cache
   ;cache_expiry_hours: 24
   ;filter_groupless_contacts: yes
<span style="color: #827591; background-color: #373040;">  #+END_SRC</span>
</pre>
</div>

<p>
Now when you invoke org-babel-tangle, the 3 dotfiles will be written. You can
put the .org file under version control, edit the dotfiles within Emacs, and
deploy them with one command.
</p>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3"><span class="section-number-3">1.3</span> 1.3 Dotfiles in a dotdir</h3>
<div class="outline-text-3" id="text-1-3">
<p>
For example, you want to manage your SSH config file, which is under .ssh.
Normally it will not be more difficult than the case above. But if you are
setting up a new machine and don't have .ssh path yet, Org-Mode will complain
when you tangle.
</p>

<p>
In that case, you can write a "magic" line at the beginning of the file:
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #2aa1ae; background-color: #292e34;"># -*- eval: (make-directory ".ssh" "~") -*-</span>
</pre>
</div>

<p>
Alternatively, you can write an src block before the file content block to run
commands that create the directories needed.
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #827591; background-color: #373040;">#+BEGIN_SRC sh</span>
mkdir ~/.ssh
<span style="color: #827591; background-color: #373040;">#+END_SRC</span>
</pre>
</div>

<p>
The best approach may be setting a header argument mkdirp to yes, like this:
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #827591; background-color: #373040;">#+BEGIN_SRC sh :mkdirp yes :tangle ~/.ssh/config</span>
<span style="color: #4f97d7;">(</span>your .ssh/config contents<span style="color: #4f97d7;">)</span>
<span style="color: #827591; background-color: #373040;">#+END_SRC</span>
</pre>
</div>

<p>
If your .ssh directory does not exist yet when you tangle this block, Org-Mode
will create it for you.
</p>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4"><span class="section-number-3">1.4</span> 1.4 Emacs dotfiles</h3>
<div class="outline-text-3" id="text-1-4">
<p>
If your are using the good old .emacs or init.el to store your Emacs
configuration, they are managed in the same manner as the above cases.
However, if your configuration are already living in another .org file, you
probably don't want to put it in an "org" src block in your dotfile.org. My
solution is to put it in a directory under the directory where my home.org (my
dotfile) resides. That makes it a little untidy but I don't have a better
solution right now. Ah, the taste of irony.
</p>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-3">
<h3 id="orgheadline5"><span class="section-number-3">1.5</span> 1.5 Credentials and secrets</h3>
<div class="outline-text-3" id="text-1-5">
<p>
If you are putting your dotfiles online, you need to save dotfiles with
passwords/secrets in an encrypted format. Luckily, Emacs has very good
encryption/decryption support. You can put things you don't want others to
read into a specific .org file, and use epa-encrypt-file to get encrypted file
with .gpg suffix. After that you can delete the clear text .org file. Next
time when you edit the encrypted .org.gpg file, Emacs will use gpg-agent to
ask for the password, and decrypt it for you.
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline7" class="outline-2">
<h2 id="orgheadline7"><span class="section-number-2">2</span> 2 Documenting changes</h2>
<div class="outline-text-2" id="text-2">
<p>
The above method provides a simple and fast way to put all your dotfiles in a
few .org files. But it does not fully justify a migration of all your dotfiles
into Org-mode src blocks. The strength of Org-mode based dotfile management
lies in seamless documentation and instant deploy of changes.
</p>

<p>
It is possible to breakdown a very long config file into multiple src blocks,
and tangle them into one file for deployment. These src blocks can even be put
into different subheadings, according to their categories and functions in the
final tangled config.
</p>

<p>
In this case, the file to write to is not specified in each src block's
attributes ('head arguments', as in the official document), but as a property
of the subheading under which the contents of the file goes. It is better to
illustrate with an example:
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* Git</span>
<span style="color: #bc6ec5;">  :PROPERTIES:</span>
  <span style="color: #bc6ec5;">:tangle:</span>   ~/.gitconfig   # &lt;- all src blocks under this 'Git' subtree will be written to ~/.gitconfig
<span style="color: #bc6ec5;">  :END:</span>
<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* personal information</span>
<span style="color: #827591; background-color: #373040;">#+BEGIN_SRC conf</span>
    [<span style="color: #ce537a; font-weight: bold;">user</span>]
        <span style="color: #7590db;">name</span> = John Doe
  <span style="color: #7590db;">email</span> = john.doe@example.net
<span style="color: #827591; background-color: #373040;">#+END_SRC</span>
<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* push settings</span>
<span style="color: #827591; background-color: #373040;">#+BEGIN_SRC conf</span>
    [<span style="color: #ce537a; font-weight: bold;">push</span>]
        <span style="color: #7590db;">default</span> = upstream
<span style="color: #827591; background-color: #373040;">#+END_SRC</span>
...
</pre>
</div>

<p>
When you tangle this file, all src blocks under * Git subtree will be tangled
into $HOME/.gitconfig.
</p>

<p>
Now, suppose we want to change Git's push settings, it is easy to locate that
subtree, and do some editing.
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* push settings</span>
<span style="color: #827591; background-color: #373040;">#+BEGIN_SRC conf</span>
    [<span style="color: #ce537a; font-weight: bold;">push</span>]
        <span style="color: #7590db;">default</span> = simple
<span style="color: #827591; background-color: #373040;">#+END_SRC</span>
</pre>
</div>

<p>
It may become difficult to tell which part gets edited after a while. Why not
write a little note about the change?
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* push settings</span>
<span style="color: #827591; background-color: #373040;">#+BEGIN_SRC conf</span>
    [<span style="color: #ce537a; font-weight: bold;">push</span>]
        <span style="color: #7590db;">default</span> = simple
<span style="color: #827591; background-color: #373040;">#+END_SRC</span>
<span style="color: #7590db; text-decoration: underline;">[2016-03-19 Sat 22:31]</span> change push default from 'upstream' to 'simple'.
</pre>
</div>

<p>
The timestamp can be inserted almost anywhere, by pressing C-u C-c !. If you
only need to remember the date but not the time, you can use C-c !.
</p>

<p>
If you often need to change such settings, it is a good idea to document all
possible options:
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* push settings</span>
   With <span style="color: #28def0;">~push.default~</span> set to <span style="color: #28def0;">~simple~</span>, <span style="color: #28def0;">~git push~</span> will fail if the current local branch is not tracking a remote branch, even if remote has a branch with the same name. This seems to be the safest option. Other possible values are:

 - <span style="color: #28def0;">~upstream~</span>: push the local branch to its upstream branch.
 - <span style="color: #28def0;">~current~</span>: push the local branch to a branch of the same name.

<span style="color: #827591; background-color: #373040;">#+BEGIN_SRC conf</span>
    [<span style="color: #ce537a; font-weight: bold;">push</span>]
        <span style="color: #7590db;">default</span> = simple
<span style="color: #827591; background-color: #373040;">#+END_SRC</span>
<span style="color: #7590db; text-decoration: underline;">[2016-03-19 Sat 22:31]</span> change push default from 'upstream' to 'simple'.
</pre>
</div>

<p>
In other cases, you may want to experiment with various combinations of
options. You can write them all out, and tell Org-Mode not to tangle some of
them:
</p>

<div class="org-src-container">

<pre class="src src-conf"><span style="color: #7590db;">safe_threshold</span>=1
<span style="color: #7590db;">encryption_mechanism</span>=ECDHE_RSA
</pre>
</div>

<div class="org-src-container">

<pre class="src src-conf"><span style="color: #7590db;">safe_threshold</span>=0
<span style="color: #7590db;">encryption_mechanism</span>=HMAC-SHA1
</pre>
</div>

<p>
Only the latter config will enter the config file.
</p>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-2">
<h2 id="orgheadline8"><span class="section-number-2">3</span> 3 Managing remote dotfiles and configs</h2>
<div class="outline-text-2" id="text-3">
<p>
In :tangle head argument or subtree property, you can specify a remote
location, typically a remote server which you have SSH access. Suppose you are
in charge of a web server, you can save yourself a lot of remote editing by
using Org-Mode to manage its configuration:
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* Nginx</span>
<span style="color: #bc6ec5;">  :PROPERTIES:</span>
  <span style="color: #bc6ec5;">:tangle:</span>   /webadmin@ssh.example.org:configs/nginx.conf
<span style="color: #827591; background-color: #373040;">#+BEGIN_SRC conf</span>
  <span style="color: #7590db;">worker_processes</span> 4;

  <span style="color: #7590db;">events</span> { worker_connections 1024; }
  <span style="color: #7590db;">...</span>
<span style="color: #827591; background-color: #373040;">#+END_SRC</span>

<span style="color: #827591; background-color: #373040;">#+BEGIN_SRC sh :dir /ssh:webadmin@ssh.example.org|sudo:ssh.example.org :tangle no</span>
cp /home/webadmin/configs/nginx.conf /etc/nginx/
chown nginx:nginx /etc/nginx/nginx.conf
<span style="color: #827591; background-color: #373040;">#+END_SRC</span>
</pre>
</div>

<p>
The first code block get tangled into the remote file <i>home/webadmin</i>
nginx.conf, the second code block has :tangle no and will not be tangled into
any file, but you can run the code block from your local Emacs, it will ask
you your sudo password, and copy the file to the right location and set
owners.
</p>
</div>
</div>

<div id="outline-container-orgheadline9" class="outline-2">
<h2 id="orgheadline9"><span class="section-number-2">4</span> 4 Caveats</h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li>Emacs is single-threaded. If you use Org-Mode to deal with files/shells on
remote systems through a slow connection, you will have to wait during
tangling remote files and executing remote commands.</li>
<li>You don't have to deal with symlinks, and you don't get its benefits. For
example, you change your Git settings through command git config &#x2013;global
&#x2026;. Such changes don't automatically get updated in your Org-Mode file.
It is your responsibility to update your dotfile.org by hand.
<ul class="org-ul">
<li><p>
UPDATE: Ken Mankoff sends me a tip that partially solves the problem.
You can add the following line to the top of your dotfile.org:
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #9f8766;">#+PROPERTY: header-args:conf  :comments link :tangle-mode (identity #o444)</span>
</pre>
</div>

<p>
In Ken's own words: "This makes the files read-only, so I can't edit
them by mistake. It also creates a commented link at the top of each,
so I can jump from the dotfile to its Org origin if I open the dotfile
by mistake." Kudos.
</p></li>
</ul></li>

<li>Your dotfile.org may become to big and unwieldy. For most people this is
not a big deal. On my late-2012 MacBook Pro, opening Org files of a few
hundred KB is as smooth as opening a new file. But if this system is used
for a long time, the files may grow with all those logs and documents. In
that case, you may want to split the files by, say, putting each top-level
headline in a separate file. It is easy to create links to other files in
Org-Mode, so you can still conveniently navigate through all the files.</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline10" class="outline-2">
<h2 id="orgheadline10"><span class="section-number-2">5</span> 5 Acknowledgements</h2>
<div class="outline-text-2" id="text-5">
<p>
This system is inspired by <a href="http://sachachua.com/blog/about/">Sacha Chua</a>'s Emacs <a href="http://pages.sachachua.com/.emacs.d/Sacha.html">config</a>. I did not realize
Org-Mode was such a powerful tool for system administration until I see
Howardism's talk on <a href="http://howardism.org/Technical/Emacs/literate-devops.html">literate devops</a>. Last but not least, thanks to all the
people behind Org-Mode, Tramp and GNU Emacs.
</p>
</div>
</div>

</div>
</div>
<div>
        <div class="post-meta">
            <span title="post date" class="post-info">2016-10-19</span>
            <span title="last modification date" class="post-info">2016-10-13</span>
            <span title="tags" class="post-info">:N/A:</span>
            <span title="author" class="post-info"><a href="mailto:lujun9972 &lt;at&gt; lujun9972-F41">lujun9972</a></span>
        </div>
    <script src="http://lujun9972.github.io/emacs-document/media/js/jquery-2.1.3.min.js"></script>
        <section>
            <h1>Comments</h1>
            <div id="comment-wrap">
                    <a class="disqus_label">使用 Disqus 评论</a>
                    <a class="ds-label">使用多说评论</a>
    </ul>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
         //var disqus_developer = 1;
         var preempt_signal=false;
         var disqus_identifier = "/blog/2016/10/19/dotfile-management-and-documentation-with-org-mode/";
         var disqus_url = "http://lujun9972.github.io/emacs-document/blog/2016/10/19/dotfile-management-and-documentation-with-org-mode/";
         var disqus_shortname = 'emacs-document';
         /* * * DON'T EDIT BELOW THIS LINE * * */
         (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
             $('#disqus_thread').css('display','none');
         })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        <div class="ds-thread"></div>
        <script type="text/javascript">
         var duoshuoQuery = {short_name:'emacs-document'};
         (function() {
             var ds = document.createElement('script');
             ds.type = 'text/javascript';ds.async = true;
             ds.src = 'http://static.duoshuo.com/embed.js';
             ds.charset = 'UTF-8';
             (document.getElementsByTagName('head')[0]
           || document.getElementsByTagName('body')[0]).appendChild(ds);
             $('.ds-thread').css('display','block');
         })();
        </script>
    <script>
     /* comments */
     var ego_disqus_thread=$('#disqus_thread');
     var ego_ds_label=$('.ds-thread');
     $('.disqus_label').click(function(){
         ego_disqus_thread.show();
         ego_ds_label.hide();
     });
     $('.ds-label').click(function(){
         ego_disqus_thread.hide();
         ego_ds_label.show();
     });
    </script>
        </section>
    <script src="http://lujun9972.github.io/emacs-document/media/js/main.js"></script>
    <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.x(<a href="http://orgmode.org">Org mode</a> 8.x)</p>
        <p>
            Copyright &copy; 2014 - <span id="footerYear"></span> <a href="mailto:lujun9972 &lt;at&gt; lujun9972-F41">lujun9972</a>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            Powered by <a href="https://github.com/emacs-china/ego" target="_blank">EGO</a><br/>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="border-width:0" alt="Creative Commons License" class="center"></a>
            <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
    </div>
            </div>
            <script type="text/javascript"
                    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG">
            </script>
            <script type="text/x-mathjax-config">
             MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "AMS"} } });
            </script>
</div>

  </div></body>
</html>
