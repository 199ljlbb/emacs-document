<!DOCTYPE html>
<html lang="en">
<head>
  <title>Org-mode-And-Writing-Papers:Selective-Export-Tips - EMACS-DOCUMENT</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta name="author" content="lujun9972" />
  <style>
   #ds-thread #ds-reset .ds-comment-body p {color: #ffffff;}
   #ds-thread #ds-reset .ds-comment-body p a {color: #ff0;}
   #ds-thread #ds-reset .ds-comment-body p a:hover {color: #0ff;}
   #disqus_thread a {color: #00ffff;}
  </style>
  <link rel="stylesheet" href="http://lujun9972.github.io/emacs-document/media/css/main.css" type="text/css"/>
  <link rel="stylesheet" href="http://lujun9972.github.io/emacs-document/media/css/comment.css" type="text/css"/>
</head>

  <body><div class="container">
<div>
  <header class="masthead">
    <h1 class="masthead-title"><a href="http://lujun9972.github.io/emacs-document/">EMACS-DOCUMENT</a></h1>
    <p>=============&gt;集思广益</p>
    <nav class="site-nav">
      <div class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z" fill="#ffff00"/>
          <path d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z" fill="#ffff00"/>
          <path d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z" fill="#ffff00"/>
        </svg>
      </div>
      <ul class="trigger">
        <li><a href="http://lujun9972.github.io/emacs-document/years/">Years</a></li>
        <li><a href="http://lujun9972.github.io/emacs-document/authors/">Authors</a></li>
        <li><a href="http://lujun9972.github.io/emacs-document/tags/">Tags</a></li>
        <li><a href="http://lujun9972.github.io/emacs-document/about/">About</a></li>
        <li><a href="https://github.com/lujun9972/emacs-document">Github</a></li>
        <li><a href="http://lujun9972.github.io/emacs-document/rss.xml">RSS</a></li>
      </ul>
    </nav>
    <form method="get" id="searchform" action="http://www.google.com/search">
      <input type="text" class="field" name="q" id="s" placeholder="Search">
      <input type="hidden" name="as_sitesearch" value="lujun9972.github.io/emacs-document">
    </form>
  </header>
</div>

<div>
<div class="post">
<h1 class="title">Org-mode-And-Writing-Papers:Selective-Export-Tips</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline1">1. Selective Export in Org-Mode</a></li>
<li><a href="#orgheadline6">2. Tags</a>
<ul>
<li><a href="#orgheadline2">2.1. Setting a Tag</a></li>
<li><a href="#orgheadline3">2.2. Hiding Tagged Content on Export</a></li>
<li><a href="#orgheadline4">2.3. Hiding Tag Labels on Exported Content</a></li>
<li><a href="#orgheadline5">2.4. Hiding Headers while Using Tags</a></li>
</ul>
</li>
<li><a href="#orgheadline12">3. Drawers</a>
<ul>
<li><a href="#orgheadline7">3.1. What Drawers Are</a></li>
<li><a href="#orgheadline8">3.2. When You Might Use Drawers in Writing</a></li>
<li><a href="#orgheadline9">3.3. Inserting Drawers</a></li>
<li><a href="#orgheadline10">3.4. Hiding Drawers on Export</a></li>
<li><a href="#orgheadline11">3.5. Cycling through Drawers like Headers</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1"><span class="section-number-2">1</span> Selective Export in Org-Mode</h2>
<div class="outline-text-2" id="text-1">
<p>
One benefit of writing in org-mode is the ability to easily export or hide
from export selected pieces of text. For example, I’ve used this to keep
outlines of paper sections in my .org file but out of the final .pdf version
and to export “executive summaries” of longer notes to prepare for
comprehensive exams.
</p>

<p>
In this post, I am going to discuss two different ways that you can easily
hide text from export: tags and drawers. The basic distinction between tags
and drawers is that tags apply to headers (great for dealing with sections,
subsections, etc.) whereas drawers don’t attach to headers like tags do.
</p>

<p>
Comments get an honorable mention here. You can create comments with a comment
keyword on a header, by starting lines with #, or with a #+BEGIN_COMMENT and #
+END_COMMENT block. That material will never be exported. <a href="http://orgmode.org/manual/Comment-lines.html">See the org-mode</a>
<a href="http://orgmode.org/manual/Comment-lines.html">manual for more detail.</a> I’m more interested in text that can be selectively
exported—something that could show up in a .pdf for editing purposes, for
example, and for that I’ll talk about tags and drawers.
</p>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-2">
<h2 id="orgheadline6"><span class="section-number-2">2</span> Tags</h2>
<div class="outline-text-2" id="text-2">
<p>
Org-mode allows you to assign tags to headlines. Their <a href="http://orgmode.org/manual/Tags.html">manual does a great job</a>
of explaining some of the nifty functions of tags and the cool ways that they
can be used. For our purposes, we’re just going to need to know how to do
three things: set a tag, selectively hide tagged content on export, and hide
the tag label from view in the exported document while keeping the content.
</p>
</div>

<div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2"><span class="section-number-3">2.1</span> Setting a Tag</h3>
<div class="outline-text-3" id="text-2-1">
<p>
The simplest way to insert a tag is with C-c C-q. You can easily make this
more complex, as the <a href="http://orgmode.org/manual/Setting-tags.html#Setting-tags">manual points out</a>. Tags apply to headlines and everything
contained within them. For example, suppose that I am working with my
comprehensive exam notes and I tag a section :summary:. Any subheadings under
it will implicitly inherit the tag. If I exclude a section tagged :summary: on
export, all of its subsections will also be excluded.
</p>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3"><span class="section-number-3">2.2</span> Hiding Tagged Content on Export</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Let’s again suppose that I’m working with my exam notes and I have two
different tags: :summary: and :fullnotes:. Here’s an example document:
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* Article X by Philosopher Z </span>
<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* Summary                                                          </span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">:summary:</span>
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse a
diam velit. Vestibulum pharetra mi eu nisl luctus, vitae condimentum
mauris volutpat.

<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* Full notes                                                     </span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">:fullnotes:</span>
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse a
diam velit. Vestibulum pharetra mi eu nisl luctus, vitae condimentum
mauris volutpat. Mauris aliquet eleifend erat, nec vestibulum neque
bibendum ac. In nec risus mauris. Nulla risus tortor, sodales vitae
ligula quis, dapibus aliquam magna. Fusce pharetra, tellus gravida
posuere tempor, orci enim ullamcorper metus, nec aliquam ipsum ex in
velit. Donec ante massa, consequat sed consequat at, porttitor quis
metus. Cras sit amet dui ac neque pulvinar rutrum id id tellus.
</pre>
</div>

<p>
If I want to exclude :summary: from my export, I just add the following to my
org header: #+EXCLUDE_TAGS: summary. Mutatis mutandis for :fullnotes:.
</p>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4"><span class="section-number-3">2.3</span> Hiding Tag Labels on Exported Content</h3>
<div class="outline-text-3" id="text-2-3">
<p>
If you have tagged your headers and export them to .pdf via \(\rm\LaTeX{}\)
then you’ll get a tag showing up to the right of your header in the file.
Sometimes this can be useful, but often times you’ll want to hide this from
your final product. To hide tags, just use #+OPTIONS: tags:nil in your org
header.
</p>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-3">
<h3 id="orgheadline5"><span class="section-number-3">2.4</span> Hiding Headers while Using Tags</h3>
<div class="outline-text-3" id="text-2-4">
<p>
Imagine you have the following document:
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* Lorem Ipsum</span>
<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* Summary                                                          </span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">:summary:</span>

Vivamus libero nisi, maximus scelerisque felis ac, dapibus posuere
metus. In hac habitasse platea dictumst.  

<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* Body text</span>

Vivamus libero nisi, maximus scelerisque felis ac, dapibus posuere
metus. In hac habitasse platea dictumst.  Fusce aliquam nisi in lorem
pretium, vel congue lacus consectetur. Donec in ligula ligula. Etiam
rutrum tortor a euismod convallis. Nunc mattis laoreet mi, vitae
ullamcorper arcu. Quisque semper, velit in dictum viverra, augue mi
iaculis urna, non ultricies lacus mauris id neque.
</pre>
</div>

<p>
When you export this to a .pdf, you can choose to hide the summary with #
+EXCLUDE_TAGS: summary. But notice that you’ve then got a section header (“1.
Lorem Ipsum”) immediate followed by a subsection header (“1.1 Body text”) in
your .pdf. Sometimes you might want this, but a lot of times it can look
awkward to have a section header immediately followed by a subsection header.
Example:
</p>


<div class="figure">
<p><img src="http://www.clarkdonley.com/images/selective-export-1.png" alt="selective-export-1.png" />
</p>
</div>

<p>
But you can’t just remove the ** Body text line, otherwise your writing will
get hidden along with the summary.
</p>

<p>
Here’s where the :ignoreheading: tag is useful. This tag will allow you to
export the content of a section or subsection, but it will hide the header
from view. In the above case, if you apply :ignoreheading: to the **Body text
subsection and you’ll see the text (“Vivamus libero nisi…”) from that
subsection follows directly after the “Lorem Ipsum” heading in your .pdf.
</p>


<div class="figure">
<p><img src="http://www.clarkdonley.com/images/selective-export-2.png" alt="selective-export-2.png" />
</p>
</div>

<p>
You can use drawers to achieve the same effect below. (Personally, I find that
working with sections is a bit easier.)
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline12" class="outline-2">
<h2 id="orgheadline12"><span class="section-number-2">3</span> Drawers</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-orgheadline7" class="outline-3">
<h3 id="orgheadline7"><span class="section-number-3">3.1</span> What Drawers Are</h3>
<div class="outline-text-3" id="text-3-1">
<p>
The<a href="http://orgmode.org/manual/Drawers.html">org-mode manual entry on drawers</a> is useful. It notes that drawers are for
when “you want to keep information associated with an entry, but […] don’t
want to see it.” They give this example:
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* This is a headline Still outside the drawer</span>
<span style="color: #bc6ec5;">   :DRAWERNAME: </span>
   This is inside the drawer.
<span style="color: #bc6ec5;">   :END:</span>
   After the drawer.
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8"><span class="section-number-3">3.2</span> When You Might Use Drawers in Writing</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Now why wouldn’t you just use tags all of the time? Because tags apply to
headers (sections, subsections, etc.) and sometimes we don’t want to use
headers to exclude text. In those cases, drawers are useful.
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* Main Section</span>
<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* Outline                                                        </span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">:outline:</span>
1. Sed eget arcu nec ligula tristique pretium sit amet eget justo.
   1. Cras lacinia at odio at tincidunt.
   2. Maecenas vitae risus nec arcu pulvinar hendrerit.
      1. Class aptent taciti sociosqu ad litora torquent per conubia
         nostra, per inceptos himenaeos.
2. Quisque pellentesque placerat elementum.
   1. Nam arcu felis, tempor id ex ac, sollicitudin tristique nisl.
   2. Maecenas facilisis dui at neque vulputate rutrum.
   3. Nam eleifend nunc accumsan lorem imperdiet vulputate.
3. Donec eu orci vel eros blandit tincidunt eu pulvinar leo. 

<span style="color: #292b2e;">*</span><span style="color: #2d9574; font-size: 120%; font-weight: bold;">* Body</span>
Vivamus odio mauris, fermentum semper tempus id, scelerisque vel
metus. Aliquam risus lectus, lobortis ut risus eu, facilisis
consectetur diam. Sed euismod ullamcorper erat, at lacinia enim
lacinia eget. Nam sed justo dapibus, tempus ipsum et, sagittis
ex. Integer interdum consequat augue pellentesque fermentum. Integer
vehicula lorem sed purus vulputate, vitae cursus risus
eleifend. Lorem ipsum dolor sit amet, consectetur adipiscing elit.
</pre>
</div>

<p>
Here is the above example with the outline converted to a drawer:
</p>

<div class="org-src-container">

<pre class="src src-org"><span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* Main Section</span>

<span style="color: #bc6ec5;">:OUTLINE: </span>
1. Sed eget arcu nec ligula tristique pretium sit amet eget justo.
   1. Cras lacinia at odio at tincidunt.
   2. Maecenas vitae risus nec arcu pulvinar hendrerit.
      1. Class aptent taciti sociosqu ad litora torquent per conubia
         nostra, per inceptos himenaeos.
2. Quisque pellentesque placerat elementum.
   1. Nam arcu felis, tempor id ex ac, sollicitudin tristique nisl.
   2. Maecenas facilisis dui at neque vulputate rutrum.
   3. Nam eleifend nunc accumsan lorem imperdiet vulputate.
3. Donec eu orci vel eros blandit tincidunt eu pulvinar leo. 
<span style="color: #bc6ec5;">:END:</span>

Vivamus odio mauris, fermentum semper tempus id, scelerisque vel
metus. Aliquam risus lectus, lobortis ut risus eu, facilisis
consectetur diam. Sed euismod ullamcorper erat, at lacinia enim
lacinia eget. Nam sed justo dapibus, tempus ipsum et, sagittis
ex. Integer interdum consequat augue pellentesque fermentum. Integer
vehicula lorem sed purus vulputate, vitae cursus risus
eleifend. Lorem ipsum dolor sit amet, consectetur adipiscing elit.
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline9" class="outline-3">
<h3 id="orgheadline9"><span class="section-number-3">3.3</span> Inserting Drawers</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Inserting drawers is easy: C-c C-x d. There is more detail on this at the 
<a href="http://orgmode.org/manual/Drawers.html">org-mode manual</a>, but that’s all you need to know for our purposes here.
</p>
</div>
</div>

<div id="outline-container-orgheadline10" class="outline-3">
<h3 id="orgheadline10"><span class="section-number-3">3.4</span> Hiding Drawers on Export</h3>
<div class="outline-text-3" id="text-3-4">
<p>
To hide all drawers on export, you can add #+OPTIONS: d:nil to your org
header.
</p>

<p>
But suppose that I want to exclude the :OUTLINE: drawer and I have other
drawers that I would still like to include in the export. In that case, I can
use the following line: #+OPTIONS: d:(not "OUTLINE"). That will allow me to
export drawers aside from :OUTLINE:. Suppose that you wanted to exclude both
:OUTLINE: and :SUMMARY: drawers, you would then just use this: #+OPTIONS: d:
(not "OUTLINE" not "SUMMARY").
</p>
</div>
</div>

<div id="outline-container-orgheadline11" class="outline-3">
<h3 id="orgheadline11"><span class="section-number-3">3.5</span> Cycling through Drawers like Headers</h3>
<div class="outline-text-3" id="text-3-5">
<p>
If you use drawers as section summaries or something like that, then you may
want to cycle through them like you do with your section headers (e.g., with
shift-tab). Luckily <a href="http://stackoverflow.com/questions/19510984/section-summaries-in-org-mode">two users at StackExchange worked on a quick extension</a>
that you can put into your .emacs (or Preferences.el with Aquamacs) to do this
for the :SUMMARY: drawer. You can obviously modify this for whatever other
drawers you’d like. For my purposes, if I want to cycles through drawers like
headers, I’ll just use headers.
</p>

<p>
Much more advanced uses of these tags and drawers are possible, but this post
should have given you a working knowledge on how to selectively export text in
org-mode using tags and drawers.
</p>
</div>
</div>
</div>

</div>
</div>
<div>
        <div class="post-meta">
            <span title="post date" class="post-info">2016-10-17</span>
            <span title="last modification date" class="post-info">2016-10-13</span>
            <span title="tags" class="post-info">:N/A:</span>
            <span title="author" class="post-info"><a href="mailto:lujun9972 &lt;at&gt; lujun9972-F41">lujun9972</a></span>
        </div>
    <script src="http://lujun9972.github.io/emacs-document/media/js/jquery-2.1.3.min.js"></script>
        <section>
            <h1>Comments</h1>
            <div id="comment-wrap">
                    <a class="disqus_label">使用 Disqus 评论</a>
                    <a class="ds-label">使用多说评论</a>
    </ul>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
         //var disqus_developer = 1;
         var preempt_signal=false;
         var disqus_identifier = "/blog/2016/10/17/org-mode-and-writing-papers-selective-export-tips/";
         var disqus_url = "http://lujun9972.github.io/emacs-document/blog/2016/10/17/org-mode-and-writing-papers-selective-export-tips/";
         var disqus_shortname = 'emacs-document';
         /* * * DON'T EDIT BELOW THIS LINE * * */
         (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
             $('#disqus_thread').css('display','none');
         })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        <div class="ds-thread"></div>
        <script type="text/javascript">
         var duoshuoQuery = {short_name:'emacs-document'};
         (function() {
             var ds = document.createElement('script');
             ds.type = 'text/javascript';ds.async = true;
             ds.src = 'http://static.duoshuo.com/embed.js';
             ds.charset = 'UTF-8';
             (document.getElementsByTagName('head')[0]
           || document.getElementsByTagName('body')[0]).appendChild(ds);
             $('.ds-thread').css('display','block');
         })();
        </script>
    <script>
     /* comments */
     var ego_disqus_thread=$('#disqus_thread');
     var ego_ds_label=$('.ds-thread');
     $('.disqus_label').click(function(){
         ego_disqus_thread.show();
         ego_ds_label.hide();
     });
     $('.ds-label').click(function(){
         ego_disqus_thread.hide();
         ego_ds_label.show();
     });
    </script>
        </section>
    <script src="http://lujun9972.github.io/emacs-document/media/js/main.js"></script>
    <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.x(<a href="http://orgmode.org">Org mode</a> 8.x)</p>
        <p>
            Copyright &copy; 2014 - <span id="footerYear"></span> <a href="mailto:lujun9972 &lt;at&gt; lujun9972-F41">lujun9972</a>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            Powered by <a href="https://github.com/emacs-china/ego" target="_blank">EGO</a><br/>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="border-width:0" alt="Creative Commons License" class="center"></a>
            <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
    </div>
            </div>
            <script type="text/javascript"
                    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG">
            </script>
            <script type="text/x-mathjax-config">
             MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "AMS"} } });
            </script>
</div>

  </div></body>
</html>
