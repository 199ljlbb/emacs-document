<!DOCTYPE html>
<html lang="en">
<head>
  <title>More-emacs-configuration-tweaks - EMACS-DOCUMENT</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta name="author" content="lujun9972" />
  <style>
   #ds-thread #ds-reset .ds-comment-body p {color: #ffffff;}
   #ds-thread #ds-reset .ds-comment-body p a {color: #ff0;}
   #ds-thread #ds-reset .ds-comment-body p a:hover {color: #0ff;}
   #disqus_thread a {color: #00ffff;}
  </style>
  <link rel="stylesheet" href="http://lujun9972.github.io/emacs-document/media/css/main.css" type="text/css"/>
  <link rel="stylesheet" href="http://lujun9972.github.io/emacs-document/media/css/comment.css" type="text/css"/>
</head>

  <body><div class="container">
<div>
  <header class="masthead">
    <h1 class="masthead-title"><a href="http://lujun9972.github.io/emacs-document/">EMACS-DOCUMENT</a></h1>
    <p>=============&gt;集思广益</p>
    <nav class="site-nav">
      <div class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z" fill="#ffff00"/>
          <path d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z" fill="#ffff00"/>
          <path d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z" fill="#ffff00"/>
        </svg>
      </div>
      <ul class="trigger">
        <li><a href="http://lujun9972.github.io/emacs-document/years/">Years</a></li>
        <li><a href="http://lujun9972.github.io/emacs-document/authors/">Authors</a></li>
        <li><a href="http://lujun9972.github.io/emacs-document/tags/">Tags</a></li>
        <li><a href="http://lujun9972.github.io/emacs-document/about/">About</a></li>
        <li><a href="https://github.com/lujun9972/emacs-document">Github</a></li>
        <li><a href="http://lujun9972.github.io/emacs-document/rss.xml">RSS</a></li>
      </ul>
    </nav>
    <form method="get" id="searchform" action="http://www.google.com/search">
      <input type="text" class="field" name="q" id="s" placeholder="Search">
      <input type="hidden" name="as_sitesearch" value="lujun9972.github.io/emacs-document">
    </form>
  </header>
</div>

<div>
<div class="post">
<h1 class="title">More-emacs-configuration-tweaks</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline1">1. Click for multiple-cursors</a></li>
<li><a href="#orgheadline2">2. Minimap</a></li>
<li><a href="#orgheadline3">3. Folding</a></li>
<li><a href="#orgheadline4">4. Execution overlays in Ensime (Scala)</a></li>
</ul>
</div>
</div>
<p>
At <a href="http://www.affectv.com/">Affectv</a> we use a wide range of editors: Sublime, Atom, Emacs, Pycharm, IntelliJ&#x2026; Actually only two people
use the same editor! As such, from time to time I see things in other people's editors that I would like to
have as well. So, yesterday I decided to improve on some configuration settings on Spacemacs.
</p>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1"><span class="section-number-2">1</span> Click for multiple-cursors</h2>
<div class="outline-text-2" id="text-1">
<p>
I saw this on Jordi's Sublime, and it is much more comfortable than using more-like-this or similar helper
functions, even if I need to use the trackpad to do so. After all, a multi-cursor edit (proper edit, not as a
substitute for a macro) is rare enough that I can tolerate leaving the home row. Easy enough to configure
thanks to <a href="https://twitter.com/emacsrocks/status/304223468793237505">Magnar Sveen</a>.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span>global-unset-key <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"M-&lt;down-mouse-1&gt;"</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>global-set-key <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"M-&lt;mouse-1&gt;"</span><span style="color: #bc6ec5;">)</span> 'mc/add-cursor-on-click<span style="color: #4f97d7;">)</span>
</pre>
</div>


<div class="figure">
<p><img src="https://1.bp.blogspot.com/-a69eC9niTvQ/V9Vz4Yo7FOI/AAAAAAAAEYc/pyqcsOMr-p4bd48uYVCintKKFc9vNF3fgCLcB/s1600/MC.gif" alt="MC.gif" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-2">
<h2 id="orgheadline2"><span class="section-number-2">2</span> Minimap</h2>
<div class="outline-text-2" id="text-2">
<p>
Also from Sublime, I had this on my old emacs setup. As simple as adding minimap to the list of additional
packages and configuring its property group. See animation below.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">'dotspacemacs-additional-packages '<span style="color: #4f97d7;">(</span>helm-dash key-chord pig-mode mmm-mode minimap origami ansible<span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-2">
<h2 id="orgheadline3"><span class="section-number-2">3</span> Folding</h2>
<div class="outline-text-2" id="text-3">
<p>
I have always loved how clean vim's folding works, and how Sublime has this nice folding. Then I found
origami-mode and my emacs-life was complete. I tweaked a little the folding functions so that minimap was
updated on fold (for some reason it is not, I guess minimap is tied to the "modified" hook or similar). I
bound z and Z (and A-z which maps to æ in Colemak) to the basic fold operations.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span>eval-after-load 'origami
  '<span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">progn</span>
     <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">rb-show-only</span> <span style="color: #67b11d;">(</span>buffer point<span style="color: #67b11d;">)</span>
       <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">interactive</span> <span style="color: #b1951d;">(</span>list <span style="color: #4f97d7;">(</span>current-buffer<span style="color: #4f97d7;">)</span> <span style="color: #4f97d7;">(</span>point<span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
       <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">progn</span> <span style="color: #b1951d;">(</span>origami-show-only-node buffer point<span style="color: #b1951d;">)</span>
              <span style="color: #b1951d;">(</span>minimap-new-minimap<span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>

     <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">rb-toggle-rec</span> <span style="color: #67b11d;">(</span>buffer point<span style="color: #67b11d;">)</span>
       <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">interactive</span> <span style="color: #b1951d;">(</span>list <span style="color: #4f97d7;">(</span>current-buffer<span style="color: #4f97d7;">)</span> <span style="color: #4f97d7;">(</span>point<span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
       <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">progn</span> <span style="color: #b1951d;">(</span>origami-recursively-toggle-node buffer point<span style="color: #b1951d;">)</span>
              <span style="color: #b1951d;">(</span>minimap-new-minimap<span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>

     <span style="color: #2d9574;">(</span>define-key evil-normal-state-map <span style="color: #2d9574;">"&#230;"</span> 'rb-show-only<span style="color: #2d9574;">)</span>
     <span style="color: #2d9574;">(</span>define-key evil-normal-state-map <span style="color: #2d9574;">"Z"</span> 'origami-toggle-node<span style="color: #2d9574;">)</span>
     <span style="color: #2d9574;">(</span>define-key evil-visual-state-map <span style="color: #2d9574;">"Z"</span> 'origami-toggle-node<span style="color: #2d9574;">)</span>
     <span style="color: #2d9574;">(</span>define-key evil-insert-state-map <span style="color: #2d9574;">"C-Z"</span> 'origami-toggle-node<span style="color: #2d9574;">)</span>
     <span style="color: #2d9574;">(</span>define-key evil-normal-state-map <span style="color: #2d9574;">"z"</span> 'rb-toggle-rec<span style="color: #2d9574;">)</span>
     <span style="color: #2d9574;">(</span>define-key evil-visual-state-map <span style="color: #2d9574;">"z"</span> 'rb-toggle-rec<span style="color: #2d9574;">)</span>
     <span style="color: #2d9574;">(</span>define-key evil-insert-state-map <span style="color: #2d9574;">"C-z"</span> 'rb-toggle-rec<span style="color: #2d9574;">)</span>
     <span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span><span style="color: #e0211d; text-decoration: overline;">)</span>
</pre>
</div>

<p>
For some reason just advising the functions with after didn't work, this is not great but does work. I left
the Z bindings as they are, since I have not used them yet, and will probably delete them if I keep not using
them.
</p>


<div class="figure">
<p><img src="https://1.bp.blogspot.com/-B472yAC46lM/V9V1ks3gD9I/AAAAAAAAEYk/YxmCx7l3R1UUuY2m8hh4AqiBR-EYrSwWgCLcB/s1600/F.gif" alt="F.gif" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-2">
<h2 id="orgheadline4"><span class="section-number-2">4</span> Execution overlays in Ensime (Scala)</h2>
<div class="outline-text-2" id="text-4">
<p>
I saw this for <a href="https://github.com/clojure-emacs/cider">Cider</a> in the emacs church meeting from August, and heard <a href="https://twitter.com/fommil">@fommil</a> (I think it was him) mention
that it was coming to ensime. And <a href="https://twitter.com/fommil/status/766736564705759232?ref_src=twsrc%5Etfw">indeed it was</a>. And it's easy enough to use C-c C-v C-r (thing of it as
extended command, eval, region to remember), given an open inferior Scala interpreter. Symbol prettify does
not apply to overlays, so you need to customise the arrow used therein.
</p>


<div class="figure">
<p><img src="https://3.bp.blogspot.com/-Cr11eWs8n4k/V9V3UKHk4iI/AAAAAAAAEYs/e6ipa0-TM685903ruUhexQBODr-PRJUeQCLcB/s1600/EN.gif" alt="EN.gif" />
</p>
</div>
</div>
</div>

</div>
</div>
<div>
        <div class="post-meta">
            <span title="post date" class="post-info">2016-10-10</span>
            <span title="last modification date" class="post-info">2016-10-10</span>
            <span title="tags" class="post-info">:N/A:</span>
            <span title="author" class="post-info"><a href="mailto:lujun9972 &lt;at&gt; lujun9972-F41">lujun9972</a></span>
        </div>
    <script src="http://lujun9972.github.io/emacs-document/media/js/jquery-2.1.3.min.js"></script>
        <section>
            <h1>Comments</h1>
            <div id="comment-wrap">
                    <a class="disqus_label">使用 Disqus 评论</a>
                    <a class="ds-label">使用多说评论</a>
    </ul>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
         //var disqus_developer = 1;
         var preempt_signal=false;
         var disqus_identifier = "/blog/2016/10/10/more-emacs-configuration-tweaks/";
         var disqus_url = "http://lujun9972.github.io/emacs-document/blog/2016/10/10/more-emacs-configuration-tweaks/";
         var disqus_shortname = 'emacs-document';
         /* * * DON'T EDIT BELOW THIS LINE * * */
         (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
             $('#disqus_thread').css('display','none');
         })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        <div class="ds-thread"></div>
        <script type="text/javascript">
         var duoshuoQuery = {short_name:'emacs-document'};
         (function() {
             var ds = document.createElement('script');
             ds.type = 'text/javascript';ds.async = true;
             ds.src = 'http://static.duoshuo.com/embed.js';
             ds.charset = 'UTF-8';
             (document.getElementsByTagName('head')[0]
           || document.getElementsByTagName('body')[0]).appendChild(ds);
             $('.ds-thread').css('display','block');
         })();
        </script>
    <script>
     /* comments */
     var ego_disqus_thread=$('#disqus_thread');
     var ego_ds_label=$('.ds-thread');
     $('.disqus_label').click(function(){
         ego_disqus_thread.show();
         ego_ds_label.hide();
     });
     $('.ds-label').click(function(){
         ego_disqus_thread.hide();
         ego_ds_label.show();
     });
    </script>
        </section>
    <script src="http://lujun9972.github.io/emacs-document/media/js/main.js"></script>
    <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.x(<a href="http://orgmode.org">Org mode</a> 8.x)</p>
        <p>
            Copyright &copy; 2014 - <span id="footerYear"></span> <a href="mailto:lujun9972 &lt;at&gt; lujun9972-F41">lujun9972</a>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            Powered by <a href="https://github.com/emacs-china/ego" target="_blank">EGO</a><br/>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="border-width:0" alt="Creative Commons License" class="center"></a>
            <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
    </div>
            </div>
            <script type="text/javascript"
                    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG">
            </script>
            <script type="text/x-mathjax-config">
             MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "AMS"} } });
            </script>
</div>

  </div></body>
</html>
